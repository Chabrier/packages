INCLUDE_DIRECTORIES(${CMAKE_SOURCE_DIR}/src ${VLE_INCLUDE_DIRS}
  ${GVLE_INCLUDE_DIRS} ${Boost_INCLUDE_DIRS}
  ${GTKSOURCEVIEWMM_INCLUDE_DIRS} ${GTKMM_INCLUDE_DIRS}
  ${MUPARSER_INCLUDE_DIRS})

LINK_DIRECTORIES(${VLE_LIBRARY_DIRS} ${GVLE_LIBRARY_DIRS}
  ${GTKSOURCEVIEWMM_LIBRARY_DIRS} ${GTKMM_LIBRARY_DIRS}
  ${MUPARSER_LIBRARY_DIRS})

include_directories(${CMAKE_SOURCE_DIR}/src ${VLE_INCLUDE_DIRS}
  ${LUA_INCLUDE_DIR})
link_directories(${VLE_LIBRARY_DIRS} ${CMAKE_SOURCE_DIR}/lib)

ADD_LIBRARY(vle.ibm SHARED
  PluginIbmInsideGVLE.cpp)

SET_TARGET_PROPERTIES(vle.ibm PROPERTIES OUTPUT_NAME
  "vle.ibm")

TARGET_LINK_LIBRARIES(vle.ibm ${VLE_LIBRARIES}
  ${GVLE_LIBRARIES} ${GTKMM_LIBRARIES})


INSTALL(TARGETS vle.ibm RUNTIME DESTINATION
  plugins/gvle/global LIBRARY DESTINATION plugins/gvle/global)
INSTALL(FILES ibmGVLE.glade DESTINATION plugins/gvle/modeling)
